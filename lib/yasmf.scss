/*!
 * YASMF-Next Styling
 *
 * yasmf.css
 * @author Kerri Shotts
 * @version 0.4
 *
 * Copyright (c) 2013 Kerri Shotts, photoKandy Studios LLC
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify,
 * merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to the following
 * conditions:
 * The above copyright notice and this permission notice shall be included in all copies
 * or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
 * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 * OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

/*
 *
 * Eric Meyer's Reset CSS v2.0 - http://cssreset.com
 *
 */
html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  border:         0;
  font-size:      100%;
  font:           inherit;
  vertical-align: baseline;
  margin:         0;
  padding:        0;
}

article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
  display: block;
}

body {
  line-height: 1;
}

ol, ul {
  list-style: none;
}

blockquote, q {
  quotes: none;
}

blockquote:before, blockquote:after, q:before, q:after {
  content: none;
}

table {
  border-collapse: collapse;
  border-spacing:  0;
}

/*
 * Comment here; webstorm likes to indent incorrectly immediately after the reset
 */

//****************************************************************************
//
// Mixins ( vendor prefix )
//
//****************************************************************************

@mixin tap-highlight-color($color) {
  -webkit-tap-highlight-color: $color;
  -moz-tap-highlight-color:    $color;
  -ms-tap-highlight-color:     $color;
  -o-tap-highlight-color:      $color;
  tap-highlight-color:         $color;
}

@mixin user-select($value) {
  -webkit-user-select: $value;
  -moz-user-select:    $value;
  -ms-user-select:     $value;
  -o-user-select:      $value;
  user-select:         $value;
}

@mixin outline($value) {
  -webkit-outline: $value;
  -moz-outline:    $value;
  -ms-outline:     $value;
  -o-outline:      $value;
  outline:         $value;
}

@mixin text-rendering($value) {
  -webkit-text-rendering: $value;
  -moz-text-rendering:    $value;
  -ms-text-rendering:     $value;
  -o-text-rendering:      $value;
  text-rendering:         $value;
}

@mixin backface-visibility($value) {
  -webkit-backface-visibility: $value;
  -moz-backface-visibility:    $value;
  -ms-backface-visibility:     $value;
  -o-backface-visibility:      $value;
  backface-visibility:         $value;
}

@mixin box-sizing($value) {
  -webkit-box-sizing: $value;
  -moz-box-sizing:    $value;
  -ms-box-sizing:     $value;
  -o-box-sizing:      $value;
  box-sizing:         $value;
}

@mixin transform($value) {
  -webkit-transform: $value;
  -moz-transform:    $value;
  -ms-transform:     $value;
  -o-transform:      $value;
  transform:         $value;
}

@mixin transition($value) {
  -webkit-transition: $value;
  -moz-transition:    $value;
  -ms-transition:     $value;
  -o-transition:      $value;
  transition:         $value;
}

@mixin animation($value) {
  -webkit-animation: $value;
  -moz-transition: $value;
  -ms-animation: $value;
  -o-transition: $value;
  animation: $value;
}

@mixin transitionWPR($value) {
  -webkit-transition: -webkit-#{$value};
  -moz-transition:    -moz-#{$value};
  -ms-transition:     -ms-#{$value};
  -o-transition:      -o-#{$value};
  transition:         $value;
}

@mixin linear-gradient($args...) {
  background-image: -webkit-linear-gradient($args);
  background-image: -moz-linear-gradient($args);
  background-image: -ms-linear-gradient($args);
  background-image: -o-linear-gradient($args);
  background-image: linear-gradient($args);
}

@mixin mask-size($value...) {
  -webkit-mask-size: $value;
  -moz-mask-size:    $value;
  -ms-mask-size:     $value;
  -o-mask-size:      $value;
  mask-size:         $value;
}

@mixin mask-image($value...) {
  -webkit-mask-image: $value;
  -moz-mask-image:    $value;
  -ms-mask-image:     $value;
  -o-mask-image:      $value;
  mask-image:         $value;
}

@mixin mask-position($value...) {
  -webkit-mask-position: $value;
  -moz-mask-position:    $value;
  -ms-mask-position:     $value;
  -o-mask-position:      $value;
  mask-position:         $value;
}

@mixin mask-repeat($value...) {
  -webkit-mask-repeat: $value;
  -moz-mask-repeat:    $value;
  -ms-mask-repeat:     $value;
  -o-mask-repeat:      $value;
  mask-repeat:         $value;
}

@mixin flex-box {
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
}

@mixin order($value...) {
  -webkit-box-ordinal-group: $value;
  -moz-box-ordinal-group:    $value;
  -ms-flex-order:            $value;
  -webkit-order:             $value;
  order:                     $value;
}

@mixin flex($value...) {
  -webkit-box-flex: $value;
  -moz-box-flex:    $value;
  -webkit-flex:     $value;
  -ms-flex:         $value;
  flex:             $value;
}

@mixin justify-content-space-between {
  -webkit-box-pack: justify;
  -moz-box-pack:    justify;
  -ms-box-pack:     justify;
  -o-box-pack:      justify;
  justify-content:  space-between;
}

//****************************************************************************
//
// mixins (convenience)
//
//****************************************************************************

@mixin rectTLBR($top, $left, $bottom, $right) {
  top:    $top;
  left:   $left;
  right:  $right;
  bottom: $bottom;
}

@mixin rectTLWH($top, $left, $width, $height) {
  top:    $top;
  left:   $left;
  width:  $width;
  height: $height;
}

@mixin size($width, $height) {
  width:  $width;
  height: $height;
}

@mixin origin($top, $left) {
  top:  $top;
  left: $left;
}

/*****************************************************************************
 *
 * Basic styles
 *
 *****************************************************************************/

$font-stack: -apple-system-font, "Helvetica Neue", Helvetica, Arial, Sans-serif;
$android-font-stack: "Roboto", "DroidSans", Helvetica, Arial, Sans-serif;
$WP8-font-stack: "Segoe WP" !important;

body {
  margin:           0 0;
  font-family:      $font-stack;
  font-size:        18px;
  line-height:      1em;
  color:            #333;
  background-color: #000;
  @include tap-highlight-color(rgba(0, 0, 0, 0));
  @include tap-highlight-color(transparent);
  @include user-select(none);
  @include outline(none);
  @include text-rendering(optimizeLegibility);
  @include backface-visibility(hidden);
}

body.android {
  font-family: $android-font-stack;
  @include text-rendering(auto !important);
  /* optimizeLegibility is messing up the way words wrap */
}

body.wince {
  font-family: $WP8-font-stack;
}

// TODO: Do we actually use this anywhere?
.hidden {
  display: none;
}

/*****************************************************************************
 *
 * Container: the base mechanism used to contain various YASMF widgets.
 *
 *****************************************************************************/

/* We want all DIVs to be relatively
   positioned. We also want to use the border-box box-sizing method */
div {
  background-position: center center;
  background-repeat:   no-repeat;
  background-size:     contain;
  @include box-sizing(border-box);
  position:            relative;
  @include outline(none);
  // you'd think putting this on the BODY style
  // would carry to here, but on Android, it doesn't.
}

/* Containers themselves are absolutely positioned */

.ui-container {
  display:                    block;
  position:                   absolute;
  overflow:                   hidden;
  margin:                     0 0;
  padding:                    0 0;
  border:                     none;
  line-height:                1em;
  font-size:                  20px;
  background-origin:          border-box;
  -webkit-overflow-scrolling: touch;
  @include rectTLBR(0, 0, 0, 0);
  @include transform(translateZ(0));
  z-index:                    2;
  background-color:           #E8E8E8;
  color:                      #333;
}

.android .ui-container,
.wince .ui-container {
  background-color: #000;
  color:            #FFF;
}

// modal classes
.ui-container.modalWindow,
.ui-container.modalPage {
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.25);
  @include flex-box();
  max-height: 75%;
  max-width:  75%;
  min-width:  320px;
  margin:     auto;
}

.ui-container.modalPage {
  max-height: 100%;
}

.ui-container.ui-transparent {
  background-color: transparent;
}

/*****************************************************************************
 *
 * Split View Containers
 *
 *****************************************************************************/

.ui-split-view {
  width: 100%;
}

.ui-off-canvas-view {
  width: -webkit-calc(100% + 320px);
  width: calc(100% + 320px);
  @include transform(translateX(-320px));
  @include transitionWPR(transform 0.3s ease-in-out);
}

.phone .ui-off-canvas-view {
  width: -webkit-calc(100% + 280px);
  width: calc(100% + 280px);
  @include transform(translateX(-280px));
}

.androidC .ui-off-canvas-view {
  width: 100%;
  padding-left: 320px;
  @include box-sizing(content-box);
}

.androidC.phone .ui-off-canvas-view {
  padding-left: 280px;
}

.ui-split-overlay-view {
  width: 100%;
}

.ui-off-canvas-view.ui-left-side-invisible {
  @include transform(translateX(-320px));
}

.phone .ui-off-canvas-view.ui-left-side-invisible {
  @include transform(translateX(-280px));
}

.ui-off-canvas-view.ui-left-side-visible {
  @include transform(translateX(0));
}

.ui-container.left-side {
  width:        320px;
  border-right: 1px solid rgba(0, 0, 0, 0.25);
  z-index:      3;
  @include transform(translateZ(3px));
}

.phone .ui-off-canvas-view .ui-container.left-side {
  width: 280px;
}

.android .ui-container.left-side {
  border-right: 1px solid rgba(255, 255, 255, 0.25);
}

.ui-container.right-side {
  width: -webkit-calc(100% - 320px);
  width: calc(100% - 320px);
  left:  320px;
}

.phone .ui-off-canvas-view .ui-container.right-side {
  width: -webkit-calc(100% - 280px);
  width: calc(100% - 280px);
  left:  280px;
}

.ui-split-view.ui-left-side-invisible .ui-container.left-side {
  display: none;
}

.ui-split-view.ui-left-side-invisible .ui-container.right-side {
  width: 100%;
  left:  0;
}

.ui-split-view.ui-left-side-visible .ui-container.left-side {
  display: block;
}

.ui-split-overlay-view.ui-left-side-invisible .ui-container.left-side {
  @include transform(translateX(-320px));
  @include transitionWPR(transform 0.3s ease-in-out);
}

.ui-split-overlay-view.ui-left-side-visible .ui-container.left-side {
  @include transform(translateX(0px));
  @include transitionWPR(transform 0.3s ease-in-out);
}

.ui-split-overlay-view .ui-container.right-side {
  width: 100%;
  left:  0;
}

/*****************************************************************************
 *
 * Tint Colors (used for interactive buttons and icons)
 *  - Built in affordance: colors transition over .3s to half opacity.
 *
 *****************************************************************************/

$tint-color: #40B0FF;
$tint-color-disabled: #808080;
$android-tint-color: #33B5E5;
$android-tint-color-disabled: #888;

.ui-tint-color {
  color: $tint-color;
  @include transition(color 0.3s ease-in);
}

.ui-tint-color:active {
  color: rgba($tint-color, 0.5);
}

.android .ui-tint-color {
  color: $android-tint-color;
}

.android .ui-tint-color:active {
  color: rgba($android-tint-color, 0.5);
}

.ui-background-tint-color {
  background-color: $tint-color;
  @include transition(background-color 0.3s ease-in);
}

.ui-background-tint-color:active {
  background-color: rgba($tint-color, 0.5);
}

.android .ui-background-tint-color {
  background-color: $android-tint-color;
}

.android .ui-background-tint-color:active {
  background-color: rgba($android-tint-color, 0.5);
}

.ui-disabled .ui-tint-color {
  color: $tint-color-disabled;
}

.ui-disabled .ui-background-tint-color {
  background-color: $tint-color-disabled;
}

.android .ui-disabled .ui-tint-color {
  color: $android-tint-color-disabled;
}

.android .ui-disabled .ui-background-tint-color {
  background-color: $android-tint-color-disabled;
}

$destructive-color: #FF6060;
$android-destructive-color: #C00;

.ui-destructive-color {
  color: $destructive-color;
}

.android .ui-destructive-color {
  color: $android-destructive-color;
}

.ui-background-destructive-color {
  background-color: $destructive-color;
}

.android .ui-background-destructive-color {
  background-color: $android-destructive-color;
}

/*****************************************************************************
 *
 * Navigation Bar Widget
 *
 *****************************************************************************/

.ui-navigation-bar {
  height:           44px;
  z-index:          9;
  @include transform(translateZ(9px));
  background-color: #FFF;
  background-color: rgba(255, 255, 255, 0.75);
  @include linear-gradient(top, white 50%, rgba(255, 255, 255, 0.75) 100%);
  border-bottom:    1px solid rgba(0, 0, 0, 0.25);
  position:         absolute;
  top:              0;
  left:             0;
  right:            0;
  font:             18px / 44px $font-stack;
  font-weight:      300;
  @include flex-box;
  @include justify-content-space-between;
}

/* iOS 7's navbar needs to account for the status bar. Apparently the status bar
   can be different sizes, and yet based on testing with a double-height status
   bar, this seems to work. */

.ios7 .ui-navigation-bar,
.iosM .ui-navigation-bar {
  height:      64px;
  padding-top: 20px;
}

// if we're in a modal container that doesn't fill the height of the window
// reset the navigation bar height
.iosM .ui-container.modalWindow .ui-navigation-bar {
  height:      44px;
  padding-top: 0;
}

/* However, if we're a navigation bar trying to avoid a tab bar positioned at
   the top, we need to adjust things so we don't introduce an extra 20px */

.ios7 .ui-avoid-tab-bar.ui-tab-top-position .ui-navigation-bar,
.iosM .ui-avoid-tab-bar.ui-tab-top-position .ui-navigation-bar {
  height:      44px;
  padding-top: 0;
}

.android .ui-navigation-bar {
  height:           48px;
  background-color: #000;
  background-image: none;
  border-bottom:    2px solid rgba(255, 255, 255, 0.5);
  font:             18px / 48px $android-font-stack;
}

/* Position the title of a navigation bar in the center of the navigation bar
   This doesn't really account for the positions of any elements on the bar
   however, and should be modified.
   TODO: account for bar button groups and back button */

.ui-navigation-bar .ui-title {
  //position: absolute;
  //left: 0;
  //right: 0;
  text-align:  center;
  font-weight: bold;
  height:      44px;
  @include flex(1);
  @include order(2);
  // 2==center (would be 1, but android <4.4)
  position:    initial;
}

/* Android left-aligns the title */

.android .ui-navigation-bar .ui-title {
  //left: 10px;
  //right: 10px;
  text-align:    left;
  padding-left:  10px;
  padding-right: 10px;
  height:        48px;
}

/*****************************************************************************
 *
 * Tool Bar Widget
 *
 *****************************************************************************/

.ui-tool-bar {
  height:           44px;
  z-index:          9;
  @include transform(translateZ(9px));
  background-color: #FFF;
  background-color: rgba(255, 255, 255, 0.75);
  @include linear-gradient(bottom, white 50%, rgba(255, 255, 255, 0.75) 100%);
  border-top:       1px solid rgba(0, 0, 0, 0.25);
  position:         absolute;
  bottom:           0;
  left:             0;
  right:            0;
  font:             18px / 44px $font-stack;
  font-weight:      300;
  @include flex-box;
  @include justify-content-space-between;
}

.android .ui-tool-bar {
  height:           48px;
  background-color: #000;
  background-image: none;
  border-top:       2px solid rgba(255, 255, 255, 0.5);
  font:             18px / 48px $android-font-stack;
}

/*****************************************************************************
 *
 * Tab Bar Widget
 *
 *****************************************************************************/

.ui-tab-bar {
  height:           48px;
  z-index:          9;
  @include transform(translateZ(9px));
  background-color: #FFF;
  background-color: rgba(255, 255, 255, 0.75);
  @include linear-gradient(bottom, white 50%, rgba(255, 255, 255, 0.75) 100%);
  position:         absolute;
  left:             0;
  right:            0;
  font:             18px / 44px $font-stack;
  font-weight:      300;
  overflow:         hidden;
}

/* If a tab bar is positioned at the top of the screen on iOS 7, account for the
   space occupied by the status bar. */

.ios7 .ui-tab-bar.ui-tab-top-position,
.iosM .ui-tab-bar.ui-tab-top-position {
  padding-top: 20px;
  height:      68px;
}

.ui-tab-bar.ui-tab-top-position {
  top:           0;
  border-bottom: 1px solid rgba(0, 0, 0, 0.25);
}

.ui-tab-bar.ui-tab-default-position,
.ui-tab-bar.ui-tab-bottom-position {
  bottom:     0;
  border-top: 1px solid rgba(0, 0, 0, 0.25);
}

.android .ui-tab-bar {
  height:           48px;
  background-color: #000;
  background-image: none;
  font:             18px / 48px $android-font-stack;
}

.android .ui-tab-bar.ui-tab-default-position,
.android .ui-tab-bar.ui-tab-top-position {
  top:           0;
  border-bottom: 2px solid rgba(255, 255, 255, 0.5);
}

.android .ui-tab-bar.ui-tab-bottom-position {
  bottom:     0;
  border-top: 2px solid rgba(255, 255, 255, 0.5);
}

/*****************************************************************************
 *
 * Bar Buttons can exist on Navigation, Tool, and Tab Bars
 *
 *****************************************************************************/

/* Ensure a minimum click area */

.ui-navigation-bar .ui-bar-button,
.ui-tool-bar .ui-bar-button,
.ui-tab-bar .ui-bar-button {
  min-width: 44px;
  display:   inline-block;
  height:    100%;
}

/* Ensure that we can left, right, and center align the contents of a bar button */

.ui-navigation-bar .ui-bar-button.ui-align-left,
.ui-tool-bar .ui-bar-button.ui-align-left,
.ui-tab-bar .ui-bar-button.ui-align-left {
  text-align: left;
}

.ui-navigation-bar .ui-bar-button.ui-align-right,
.ui-tool-bar .ui-bar-button.ui-align-right,
.ui-tab-bar .ui-bar-button.ui-align-right {
  text-align: right;
}

.ui-navigation-bar .ui-bar-button.ui-align-center,
.ui-tool-bar .ui-bar-button.ui-align-center,
.ui-tab-bar .ui-bar-button.ui-align-center {
  text-align: center;
}

/*****************************************************************************
 *
 * Bar Button Groups: Groups bar buttons so that operations can be applied as
 * a group
 *
 *****************************************************************************/

.ui-navigation-bar .ui-bar-button-group,
.ui-tool-bar .ui-bar-button-group,
.ui-tab-bar .ui-bar-button-group {
  //  position: absolute;
  position: initial;
  height:   100%;
  @include flex(none);
}

.ios7 .ui-navigation-bar .ui-bar-button-group,
.iosM .ui-navigation-bar .ui-bar-button-group {
  height: 44px;
}

/* Bar button groups can be aligned to the left, center, or right of their
   container. */

.ui-navigation-bar .ui-bar-button-group.ui-align-right,
.ui-tool-bar .ui-bar-button-group.ui-align-right,
.ui-tab-bar .ui-bar-button-group.ui-align-right {
  //right: 0;
  @include order(3);
  //3==right-side; would be 2, but android<4.4
  text-align: right;
}

.ui-navigation-bar .ui-bar-button-group.ui-align-left,
.ui-tool-bar .ui-bar-button-group.ui-align-left,
.ui-tab-bar .ui-bar-button-group.ui-align-left {
  //left: 0
  @include order(1);
  //1==left-side; would be 0, but android<4.4
  text-align: left;
}

.ui-navigation-bar .ui-bar-button-group.ui-align-center,
.ui-tool-bar .ui-bar-button-group.ui-align-center,
.ui-tab-bar .ui-bar-button-group.ui-align-center {
  //left: 0;
  //right: 0;
  text-align: center;
  @include order(2);
  //2==center; would be 1, but android<4.4
  @include flex(1);
}

/* Any bar button within a group inherits the group's alignment */

.ui-navigation-bar .ui-bar-button-group.ui-align-right .ui-bar-button,
.ui-tool-bar .ui-bar-button-group.ui-align-right .ui-bar-button,
.ui-tab-bar .ui-bar-button-group.ui-align-right .ui-bar-button {
  text-align:    right;
  padding-right: 10px;
}

.ui-navigation-bar .ui-bar-button-group.ui-align-left .ui-bar-button,
.ui-tool-bar .ui-bar-button-group.ui-align-left .ui-bar-button,
.ui-tab-bar .ui-bar-button-group.ui-align-left .ui-bar-button {
  text-align:   left;
  padding-left: 10px;
}

.ui-navigation-bar .ui-bar-button-group.ui-align-center .ui-bar-button,
.ui-tool-bar .ui-bar-button-group.ui-align-center .ui-bar-button,
.ui-tab-bar .ui-bar-button-group.ui-align-center .ui-bar-button {
  text-align:    center;
  padding-left:  5px;
  padding-right: 5px;
}

/*****************************************************************************
 *
 * Avoidance Classes
 *
 *****************************************************************************/

/* Avoid the navigation bar */

.ui-avoid-navigation-bar {
  padding-top: 44px !important;
}

.ios7 .ui-avoid-navigation-bar,
.iosM .ui-avoid-navigation-bar {
  padding-top: 64px !important;
}

.iosM .ui-container.modalWindow .ui-avoid-navigation-bar {
  padding-top: 44px !important;
}

.ios7 .ui-avoid-tab-bar.ui-tab-top-position .ui-avoid-navigation-bar,
.iosM .ui-avoid-tab-bar.ui-tab-top-position .ui-avoid-navigation-bar {
  padding-top: 44px !important;
}

.android .ui-avoid-navigation-bar {
  padding-top: 48px !important;
}

/* Avoid the tool bar */

.ui-avoid-tool-bar {
  padding-bottom: 44px !important;
}

.android .ui-avoid-tool-bar {
  padding-bottom: 48px !important;
}

/* Avoid the tab bar based on its position */

.ui-avoid-tab-bar.ui-tab-top-position {
  top:    48px !important;
  bottom: inherit;
}

.ui-avoid-tab-bar.ui-tab-default-position,
.ui-avoid-tab-bar.ui-tab-bottom-position {
  top:    inherit;
  bottom: 48px !important;
}

.ios7 .ui-avoid-tab-bar.ui-tab-top-position,
.iosM .ui-avoid-tab-bar.ui-tab-top-position {
  top:    68px !important;
  bottom: inherit;
}

.android .ui-avoid-tab-bar.ui-tab-default-position,
.android .ui-avoid-tab-bar.ui-tab-top-position {
  top:    48px !important;
  bottom: inherit;
}

.android .ui-avoid-tab-bar.ui-tab-bottom-position {
  top:    inherit;
  bottom: 48px !important;
}

/*****************************************************************************
 *
 * Scroll Container
 *
 *****************************************************************************/

/* Scroll containers are positioned absolutely, anchored to their parent's
   corners, but allow the content inside to scroll. */

.ui-scroll-container {
  position: absolute;
  top:      0;
  left:     0;
  right:    0;
  bottom:   0;
  overflow: auto;
}

/*****************************************************************************
 *
 * List
 *
 *****************************************************************************/

/* Lists are UL, OL, etc., styled appropriately */

.ui-list {
  width:           100%;
  list-style-type: none;
  margin:          0;
  padding:         0;
}

/*****************************************************************************
 *
 * List Item
 *
 *   > ui-list-items and ui-list-headings can contain ui-list-item-contents
 *   > or ui-list-item-flex-contents. The latter uses the flex-box model
 *   > while the former doesn't.
 *
 *****************************************************************************/

.ui-list-item,
.ui-list-heading {
  display:          block;
  border-bottom:    1px solid rgba(0, 0, 0, 0.25);
  min-height:       50px;
  overflow:         auto;
  position:         relative;
  background-color: white;
}

.ui-list-heading {
  line-height:      2em;
  min-height:       2em;
  background-color: #E8E8E8;
  text-transform:   uppercase;
  letter-spacing:   2px;
  font-size:        80%;
}

.android .ui-list-item,
.android .ui-list-heading {
  border-bottom: 1px solid rgba(255, 255, 255, 0.25);
  margin-left:   0;
}
.androidC .ui-list-item,
.androidC .ui-list-heading {
  display: table;
  width:   100%;
}

/* List Items can have indicators attached, which will appear
   on the right of the list item. */

.ui-list-item .ui-indicator,
.ui-list-heading .ui-indicator {
  position:  absolute;
  @include size(32px, 32px);
  right:     0px;
  top:       10px;
  @include mask-size(32px 32px);
  min-width: 32px;
}

.ui-list-item-flex-contents .ui-indicator {
  position:  static;
  right:     inherit;
  top:       inherit;
  margin:    auto auto;
  width:     23px;
  min-width: 23px;
}

.ui-list-item-flex-contents .ui-fill {
  @include flex(1);

  .androidC & {
    display: table-cell;
    width: 100%;
    padding: 10px;
  }
}

.ui-list-heading .ui-list-item-flex-contents .ui-label {
  @include flex(1);
}

.ui-list-heading .ui-indicator {
  top: 2px;
}

.ui-list-heading .ui-indicator,
.ui-list-item .ui-indicator {
  background-color: #333;
}

.android .ui-list-heading .ui-indicator,
.android .ui-list-item .ui-indicator {
  background-color: white;
}

.androidC .ui-list-item-flex-contents .ui-indicator {
  display: table-cell;
  @include mask-position(center center);
  @include mask-repeat(no-repeat);
}

.ui-list-item .ui-arrow-direction-right,
.ui-list-heading .ui-arrow-direction-right {
  @include mask-image(url("./yasmf-assets/chevron-right-thin@2x.png"));
}

.ui-list-item .ui-arrow-direction-left,
.ui-list-heading .ui-arrow-direction-left {
  @include mask-image(url("./yasmf-assets/chevron-left-thin@2x.png"));
}

/* Inside a list, a list-item-contents contains the actual contents of the list item */

.ui-list-item .ui-list-item-contents,
.ui-list-heading .ui-list-item-contents,
.ui-list-item .ui-list-item-flex-contents,
.ui-list-heading .ui-list-item-flex-contents {
  background-color: #FFF;
  padding:          10px;
  overflow:         auto;
  z-index:          3;
}

.ui-list-heading .ui-list-item-flex-contents {
  padding: 0 10px;
}

.android .ui-list-item .ui-list-item-contents,
.android .ui-list-heading .ui-list-item-contents {
  background-color: #000;
}

.ui-list-item .ui-list-item-flex-contents,
.ui-list-heading .ui-list-item-flex-contents {
  @include flex-box();
  background-color: transparent;

  .androidC & {
    display: table-row;
    margin: -10px;
  }
}


/* A list action group can be used to group actions together as in a swipe-to-delete mechanism */

.ui-list-item .ui-list-action-group,
.ui-list-heading .ui-list-action-group {
  background-color: #CCC;
  position:         absolute;
  right:            0;
  top:              0;
  bottom:           0;
  z-index:          2;
  /*  -webkit-transform: translateZ(2px);
    -moz-transform: translateZ(2px);
    -ms-transform: translateZ(2px);
    transform: translateZ(2px); */
}

.android .ui-list-item .ui-list-action-group,
.android .ui-list-heading .ui-list-action-group {
  background-color: #333;
}

.ui-list-item .ui-list-action-group .ui-list-action,
.ui-list-heading .ui-list-action-group .ui-list-action {
  height:     100%;
  min-width:  44px;
  color:      #FFF;
  text-align: center;
  display:    inline-table;
}

.ui-list-item .ui-list-action-group .ui-list-action div,
.ui-list-heading .ui-list-action-group .ui-list-action div {
  display:        table-cell;
  vertical-align: middle;
  padding:        10px;
}

/* light enough so that we don't have to override a lot in custom css unless we want to */
$selection-color: rgba(48, 97, 154, 1);
$android-selection-color: rgba(36, 36, 36, 1);

/* List affordances */

.ui-list-item:active, .ui-list-item-contents:active,
.ui-list-heading:active {
  background-color: $selection-color;
  color:            white;
  border-bottom: 1px solid rgba(255,255,255,.66);
}

.android .ui-list-item:active, .android .ui-list-item-contents:active,
.android .ui-list-heading:active {
  background-color: $android-selection-color;
  color:            white;
}

.ui-list-item:active .ui-glyph, .ui-list-item-contents:active .ui-glyph,
.ui-list-item:active .ui-indicator, .ui-list-item-contents:active .ui-indicator,
.ui-list-heading:active .ui-glyph, .ui-list-heading:active .ui-indicator {
  background-color: white;
}

/*****************************************************************************
 *
 * Glyphs -- these are icons that can be referenced by Class name
 *
 *****************************************************************************/

.ui-glyph, .ui-glyph-large {
  @include mask-position(center center);
  @include mask-size(32px 32px);
  @include mask-repeat(no-repeat);
  height: 100%;
  @include box-sizing(border-box);
}

.ui-glyph-large {
  @include mask-size(64px 64px);
}

/*****************************************************************************
 *
 * Back buttons are bit funny; not exactly a glyph and not exactly a button
 *
 *****************************************************************************/

.ui-back-button::before {
  width:          32px;
  height:         32px;
  position:       relative;
  top:            -3px;
  display:        inline-block;
  vertical-align: middle;
  @include mask-image(url("./yasmf-assets/chevron-left-thick@2x.png"));
  @include mask-size(32px 32px);
  @include mask-repeat(no-repeat);
  margin-left:    -10px;
  margin-right:   -5px;
  content:        "";
}

.scale1x .ui-back-button::before {
    @include mask-image(url("./yasmf-assets/chevron-left-thick.png"));
  }

.android .ui-back-button::before {
  width:        16px;
  height:       48px;
  @include mask-size(16px 32px);
  @include mask-position(left 5px);
  margin-right: -10px;
  margin-left:  -7px;
}

.android .ui-back-button {
  color:     transparent;
  font-size: 0;
  min-width: 16px;
  width:     16px;
  height:    48px;
}

/* If we're on the root view, don't show a back button */

.ui-root-view .ui-back-button {
  display: none;
}

/*****************************************************************************
 *
 * Icon Glyphs
 *
 *****************************************************************************/

$glyphs: arrow-corners-inward, arrow-corners-outward, bookmark, books, brightness-less, brightness-more, camera-video, camera, checkmark, chevron-left-thick, chevron-left-thin, chevron-right-thick, chevron-right-thin, circle-filled, circle-hollow, pause-filled, pause-hollow, play-filled, play-hollow, clock, delete, gear, list, magnifying-glass, page-text-new, pencil, plus, tag, trash, sound-wave, circle-filled-checked, photo, photo-add, film, chat-bubble, chat-bubble-dots, share, download, circle-info, more, circle-outlined, gps-locate, square-filled, square-hollow, menu, spinner, chevron-up-thick, chevron-down-thick, chevron-up-thin, chevron-down-thin, calendar;

@each $glyph in $glyphs {
  .ui-glyph-#{$glyph} {
    @include mask-image(url("./yasmf-assets/#{$glyph}@2x.png"));
  }
  .scale1x .ui-glyph-#{$glyph} {
    @include mask-image(url("./yasmf-assets/#{$glyph}.png"));
  }
}

$large-glyphs: spinner;
@each $large-glyph in $large-glyphs {
  .ui-glyph-#{$large-glyph}-large {
    @include mask-image(url("./yasmf-assets/#{$large-glyph}-large@2x.png"));
  }
  .scale1x .ui-glyph-#{$large-glyph}-large {
    @include mask-image(url("./yasmf-assets/#{$large-glyph}-large@2x.png"));
  }
}

$keyframe-prefixes: -webkit-keyframes, -moz-keyframes, -ms-keyframes, -o-keyframes;

@each $keyframe-prefix in $keyframe-prefixes {
  @-webkit-keyframes y-infinite-spinning {
    from {
      @include transform( rotate(0deg) );
    }
    to {
      @include transform( rotate(360deg) );
    }
  }
}

.ui-glyph-spinner, .ui-glyph-spinner-large {
  @include animation( y-infinite-spinning 1.5s infinite ease );
}
/*****************************************************************************
 *
 * Spinner Styles
 *
 *****************************************************************************/

.ui-spinner-outer-container {
  position: absolute;
  @include rectTLBR(0,0,0,0);
  opacity: 0;
  @include transition(opacity 0.25s ease-in-out);
  z-index: 999999;
  @include flex-box();
  @include size(100%, 100%)
}

.ui-spinner-outer-container.obscure-background {
  background-color: rgba(0,0,0,0.25);
}

.ui-spinner-inner-container {
  background-color: rgba(255,255,255,0.75);
  margin: auto;
  border-radius: 16px;
  color: rgba(0,0,0,0.75);
  min-width: 96px;
  min-height: 96px;
  padding: 16px;
  text-align: center;
}

.ui-spinner-inner-spinner {
  background-color: #333;
  @include mask-position(center center);
  @include mask-size(64px 64px);
  @include mask-repeat(no-repeat);
  height: 100%;
  @include box-sizing(border-box);
  @include mask-image(url("./yasmf-assets/spinner-large@2x.png"));
  @include animation( y-infinite-spinning 1.5s infinite ease );
  @include size(64px, 64px);
  display: inline-block;
}

.scale1x .ui-spinner-inner-spinner {
  @include mask-image(url("./yasmf-assets/spinner-large.png"));
}

.ui-spinner-inner-text {
  color: #333;
  font-size: 20px;
}

/*****************************************************************************
 *
 * Alert Styles
 *
 *****************************************************************************/

.ui-alert-container {
  position:         absolute;
  background-color: rgba(0, 0, 0, 0.25);
  @include rectTLBR(0, 0, 0, 0);
  opacity:          0;
  @include transition(opacity 0.25s ease-in-out);
  z-index:          9999999;
  display:          table;
  @include size(100%, 100%);
}

.ui-alert-vertical-align {
  display:        table-cell;
  vertical-align: middle;
}

.ui-alert {
  position:           relative;
  min-width:          260px;
  max-width:          420px;
  margin:             0 auto;
  background-color:   rgba(255, 255, 255, 1);
  text-align:         center;
  opacity:            0;
  -webkit-transition: -webkit-transform 0.125s ease-in-out, opacity 0.25s ease-in-out, top 0.25s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, bottom 0.25s ease-in-out, width 0.25s ease-in-out, height 0.25s ease-in-out;
  -moz-transition:    -moz-transform 0.125s ease-in-out, opacity 0.25s ease-in-out, top 0.25s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, bottom 0.25s ease-in-out, width 0.25s ease-in-out, height 0.25s ease-in-out;
  -ms-transition:     -ms-transform 0.125s ease-in-out, opacity 0.25s ease-in-out, top 0.25s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, bottom 0.25s ease-in-out, width 0.25s ease-in-out, height 0.25s ease-in-out;
  transition:         transform 0.125s ease-in-out, opacity 0.25s ease-in-out, top 0.25s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, bottom 0.25s ease-in-out, width 0.25s ease-in-out, height 0.25s ease-in-out;
  -webkit-transform:  scale3d(1, 1, 1);
  -moz-transform:     scale3d(1, 1, 1);
  -ms-transform:      scale3d(1, 1, 1);
  transform:          scale3d(1, 1, 1);
  box-shadow:         0px 0px 40px rgba(0, 0, 0, 0.5);
  border-radius:      6px;
}

.phone .ui-alert {
  max-width: 300px;
}

.android .ui-alert {
  border-radius:    0px;
  background-color: #242424;
}

.ui-alert-title {
  position:       relative;
  font-size:      20px;
  line-height:    2em;
  height:         auto;
  font-weight:    bold;
  padding:        1em;
  padding-bottom: 0.5em;
  padding-top:    0.5em;
  color:          #000;
}

.android .ui-alert-title {
  color:          #33B5E5;
  font-weight:    normal;
  text-align:     left;
  border-bottom:  2px solid #33B5E5;
  margin-bottom:  0.5em;
  padding-bottom: 0;
}

.ui-alert-text {
  position:       relative;
  line-height:    1.25em;
  height:         auto;
  font-size:      16px;
  font-weight:    normal;
  color:          #333;
  padding-left:   1em;
  padding-right:  1em;
  padding-bottom: 1em;
  overflow: auto;
}

.android .ui-alert-text {
  text-align: left;
  color:      #E8E8E8;
}

.ui-alert-button-container {
  position:        relative;
  line-height:     2em;
  height:          auto;
  font-size:       16pt;
  font-weight:     normal;
  color:           #333;
  width:           100%;
  border-collapse: collapse;
  display:         flex;

  &.wide {
    display: block;
    max-height: 10em;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
}


.ui-alert-button-container .ui-alert-button {
  position:        relative;
  display:         table-cell;
  background-clip: padding-box;
  padding-left:    20px;
  padding-right:   20px;
  border:          1px solid rgba(0, 0, 0, 0.125);
  border-bottom:   0;
  width:           50%;
  font-weight:     normal;
  color:           #40B0FF;
}

.android .ui-alert-button-container .ui-alert-button {
  border:        1px solid rgba(255, 255, 255, 0.125);
  border-bottom: 0;
  color:         #FFF;
}

.ui-alert-button-container .ui-alert-button:first-child {
  border-left: 0;
}

.ui-alert-button-container .ui-alert-button:last-child {
  border-right: 0;
}

.ui-alert-button-container .ui-alert-button.destructive {
  color: #FF6060 !important;
}

.android .ui-alert-button-container .ui-alert-button.destructive {
  color:            #FFF !important;
  background-color: #992424;
}

.ui-alert-button-container .ui-alert-button.bold {
  font-weight: bold;
}

.ui-alert-button-container .ui-alert-button.wide {
  display:       block;
  border:        0;
  border-top:    1px solid rgba(0, 0, 0, 0.125);
  border-bottom: 1px solid rgba(0, 0, 0, 0.125);
  line-height:   2em;
  height:        2em;
  width:         100%;
}

.ui-alert-button-container .ui-alert-button.wide:last-child {
  border-bottom: 0;
}

.android .ui-alert-button-container .ui-alert-button.wide {
  border:        0;
  border-top:    1px solid rgba(255, 255, 255, 0.125);
  border-bottom: 1px solid rgba(255, 255, 255, 0.125);
}

.android .ui-alert-button-container .ui-alert-button.wide:last-child {
  border-bottom: 0;
}

.ui-prompt-input {
  position:           static;
  line-height:        1em;
  height:             1.5em;
  font-size:          12pt;
  font-weight:        normal;
  width:              80%;
  padding:            0;
  margin:             0;
  margin-top:         1em;
  bottom:             60px;
  color:              #333;
  border-radius:      5px;
  border:             1px solid rgba(0, 0, 0, 0.75);
  -webkit-box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.25) inset;
  box-shadow:         0px 3px 6px rgba(0, 0, 0, 0.25) inset;
  background-color:   #FFF;
  -webkit-appearance: none;
}

.android .ui-prompt-input {
  box-shadow:         none;
  -webkit-box-shadow: none;
  border-radius:      0px;
}

/* affordances for ui-alert */

.ui-alert-button-container .ui-alert-button:active {
  background-color: rgba(0, 0, 0, 0.0625);
}

.android .ui-alert-button-container .ui-alert-button:active {
  background-color: rgba(255, 255, 255, 0.0625);
}

/**
 * End Alert
 */

.input, .textarea {
  display: block;
  @include outline(none);
  // you'd think having this on the body element would be sufficient,
  // but not for android.
}

/*****************************************************************************
 *
 * Put up when YASMF doesn't want taps to be handled, such as during view
 * transitions.
 *
 *****************************************************************************/

.ui-prevent-clicks {
  position:         absolute;
  z-index:          999999;
  background-color: transparent;
  @include rectTLBR(0, 0, 0, 0);
  @include size(100%, 100%);
  display:          none;
  @include transform(translateZ(999999px));
}
